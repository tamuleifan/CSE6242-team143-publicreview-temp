<!DOCTYPE html>
<html lang="en">
<script src="https://fastcdn.org/Papa-Parse/4.1.2/papaparse.min.js"></script>
<script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>A quick demo</title>
  <link href="css/subpage.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="js/googlemap.js"></script>
</head>

<body>
  <div class="_1p4mvol" style="margin-top: 24px;">
    <div style="margin-bottom: 8px;">
      <div class="_18ilrswp"><span class="_1ud5sozg">Instructions</span></div>
    </div>
    <div class="_czm8crp"><span class="_pbbsg8">
        1.Input a desired destination (eg. work place or school) and search<br>
        2.Select the desired commute time and mode<br>
        3.Activate crime rate heatmap<br>
        4.Click one house on the map for detailed information</span>
    </div>
  </div>

  <div id="mask">
    Loading...
  </div>
  
  <div class="_czm9crp">
    <table class="tbl-entry">
      <tr>
        <td>Destination: <input id="address" type="textbox" name="address" value="New York City Hall"></td>
        <td><input id="submit" type="button" value="search" onclick="searchAddress(document.getElementById('address').value)" /></td>
      </tr>
      <tr><td></td></tr>
      <tr>
        <td>Commute Time Within: <span id="slidervalue" style="font-weight:bold;"></span> mins</td>
        <td><input type="range" min="5" max="60" value="20" class="slider" id="sliderbar"></td>
        <td>by: <select id="travelModeMenu" onchange="changeTravelMode(document.getElementById('travelModeMenu').value)">
            <option value="DRIVING">Driving</option>
            <option value="WALKING">Walking</option>
            <option value="TRANSIT">Transit</option>
          </select></td>
      </tr>
      <tr><td></td></tr>
      <tr>
        <td>Crime Rate Heatmap: <input type="checkbox" id="heatmap" onclick="toggleHeatmap()"></td>
      </tr>
    </table>
    
    <table class="tbl-map">
      <tr>
        <td>
          <div id="map"></div>
        </td>
        <td>
          <div id="panel-direction"></div>
        </td>
      </tr>
    </table>




  </div>




  <script>
    var slider = document.getElementById("sliderbar");
    var output = document.getElementById("slidervalue");
    output.innerHTML = slider.value;
    slider.oninput = function() {
      output.innerHTML = this.value;
      sliderVal(this.value);
      dataRefresh();
      // update rental houses here
    }
  </script>

  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD8f3gxQL4k8-jUVsNvq01HPVtqa0bbXpY&callback=initMap&libraries=visualization"></script>

</body>

</html>
